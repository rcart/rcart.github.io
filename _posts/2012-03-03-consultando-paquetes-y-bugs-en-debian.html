---
layout: post
title: Consultando paquetes y bugs en Debian con rmadison y reportbug
date: '2012-03-03T23:59:00.001-06:00'
author: Rcart
tags:
- ubuntu-dev
modified_time: '2012-03-04T00:01:06.658-06:00'
blogger_id: tag:blogger.com,1999:blog-4654114015230862603.post-4411504753664443599
blogger_orig_url: http://rcartbitacora.blogspot.com/2012/03/consultando-paquetes-y-bugs-en-debian.html
---

Esta es la primer entrada sobre Ubuntu Development orientada a aquellos que tengan un entorno de desarrollo funcionando y/o los interesados en la tematica.<br /><br />Algunas notas rapidas sobre algunas herramientas que nos sirven al momento de consultar paquetes en debian. Uno de los casos mas comunes es el momento de querer arreglar un paquete en Ubuntu, ya que quizas este haya sido solucionado en debian. Por suerte <a href = "http://viajemotu.wordpress.com/2011/02/01/patching-bittornado/">tengo un ejemplo en el que trabaje hace un tiempo </a>. El escenario es el siguiente.<br /><br />El reporte del bug lo encontré en Ubuntu (Launchpad) y comence a solucionarlo, pero siguiendo las reglas busque algun tipo de reporte similar en Debian, y encontre un reporte del mismo problema.<br /><br />Todos los paquetes en Ubuntu (o casi todos) son importados directamente de la version en desarrollo de Debian, lo que significa que los paquetes arreglados en Debian llegan felizmente a Ubuntu. Dependiendo del estado del ciclo de la version actual en desarrollo de Ubuntu, los paquetes seran importados (sincronizados) o no. Se hace una unica sincronizacion de manera automatizada (solo imaginen lo descumunal que ha de ser) y si se desea realizar sincronizaciones de paquetes posteriormente, se debe hacer de manera manual.<br /><br />Algunos desarrolladores en Ubuntu, envian los parches a Debian, y una vez aceptados y aplicados en Debian, se hace manualmente una sincronizacion del paquete en Ubuntu. De esta manera, no solo Ubuntu se verá benefiada por el paquete corregido sino todas las distribuciones que importan sus paquetes desde Debian.<br /><br />Por suerte, en mi caso el encargado de revistar mi trabajo (reviewer/sponsor) me dio la oportunidad de aplicar el cambio en Ubuntu utilizando el parche aplicado en Debian.<br /><br />Espero se hagan una pequeña idea de como funciona la relacion Ubuntu-Debian. Dejemos la teoria.<br /><br />Primero comencemos con <b>rmadison</b>. Esta utilidad, parte del paquete <b>devscripts</b>, nos permite consultar la existencia de paquetes en Debian y Ubuntu. Es una herramienta muy util y facil de utilizar. Veamos.<br /><br />Si queremos consultar el paquete foo en Debian, hacemos:<br /><blockquote>rcart*ubuntu:~$ rmadison -u debian foo<br />rcart*ubuntu:~$ <br /></blockquote><br />Como vemos, el paquete no existe. Ahora veamos uno que realmente existe: (acorte la salida para no distorcionar)<br /><blockquote>rcart*ubuntu:~$ rmadison -u debian pidgin<br />pidgin | 2.4.3-4lenny8    | lenny-security  | source, amd64, arm, i386, powerpc, sparc<br />pidgin | 2.4.3-4lenny8    | lenny           | source, alpha, amd64, arm, i386, ia64, powerpc<br />pidgin | 2.6.6-1~bpo50+1  | backports/lenny | source, hppa<br />pidgin | 2.7.3-1~bpo50+2  | backports/lenny | source, alpha, amd64, i386, powerpc<br />pidgin | 2.7.3-1+squeeze2 | squeeze         | source, amd64, i386, kfreebsd-amd64<br />pidgin | 2.10.1-1         | wheezy          | source, amd64, i386, kfreebsd-i386, powerpc<br />pidgin | 2.10.1-1         | sid             | source, amd64, i386, kfreebsd-i386, powerpc<br />rcart*ubuntu:~$ <br /></blockquote><br />El resultado es bastante claro. Nos muestra el paquete, la version en su rama respectiva y las arquitecturas (lo cual reduje) para las que esta disponible dicho paquete.<br /><br />Ahora veamos como consultar bugs existentes en Debian.<br /><br />Primero que nada, debo aclarar que el sistema que Debian utiliza para gestionar los reportes de bugs (Debian Bug Tracking System, BTS) esta diseñado para interactuar mediante correo electronico. Lo que significa que para reportar un bug debemos enviar un correo electronico al BTS, pero no hay por que asustarse, hay herramientas que nos permiten preparar el reporte facilmente ;D<br /><br /><b>reportbug</b> es la utilidad que nos permite interactuar con el BTS de Debian. En Ubuntu, debemos utilizar la opcion <b>-B debian</b> para indicar que vamos a consultar en Debian, no en Ubuntu. <br /><br />Normalmente utilizamos esta herramienta para enviar un nuevo reporte sobre un paquete en especifico. reportbug captura el estado del paquete y extrae cierta informacion del mismo para incluirla en el reporte. Pero que pasa si solo queremos consultar los reportes que contiene actualmente un paquete que no tenemos instalado? Utilizamos el argumento <b>-I</b>, el cual indica que no verifique si el paquete esta instalado.<br /><br />Al momento de consultar los bugs de un paquete, nos pedira que escribamos un <i>Asunto</i> para ser incluido en el reporte, pero como solo estamos consultado, lo dejamos en blanco y presionamos Enter.<br /><br />Veamos un ejemplo. Vamos a consultar los reportes contra el paquete... mmm... piding:<br /><blockquote>*** Welcome to reportbug.  Use ? for help at prompts. ***<br />Note: bug reports are publicly archived (including the email address of the submitter).<br />Detected character set: UTF-8<br />Please change your locale if this is incorrect.<br /><br />Using 'X' as your from address.<br />Please enter the version of the package this report applies to (blank OK)<br />> <br />Will send report to Debian (per request).<br />Querying Debian BTS for reports on pidgin (source)...<br />130 bug reports found:<br /><br />Outstanding bugs -- Important bugs; Unclassified (5 bugs)<br />1) #535790  pidgin: CVE-2009-1889 denial-of-service<br />2) #563828  finch: GNT shortcuts do not work in Xterm<br />3) #578476  Crashes when a broken GStreamer plugin is installed<br />4) #584576  Pidgin randomly crashes<br />5) #594378  after suspend/resume cycle pidgin fill logs with gstreamer assertion<br /><br />Outstanding bugs -- Normal bugs; Patch Available (1 bug)<br />6) #589631  pidgin-data: /etc/purple/prefs.xml is invalid xml<br />(1-6/130) Is the bug you found listed above [y|N|b|m|r|q|s|f|e|?]? <br /></blockquote><br />Si queremos ver en detalle un reporte, escribimos el numero del bug en cuestion, por ejemplo, para ver el primer reporte podemos escribir el numero 1, o 535790, el resultado es el mismo:<br /><blockquote>What do you want to do now? [N|x|o|r|b|e|q|?]? 1<br /><br />Original report - #535790: pidgin: CVE-2009-1889 denial-of-service<br /><br />From: "Michael S. Gilbert" <michael.s.gilbert@gmail.com><br />Date: Sat, 4 Jul 2009 23:42:26 -0400<br /><br />Package: pidgin<br />Version: 2.4.3-4lenny2<br />Severity: important<br />Tags: security<br /><br />Hi,<br />the following CVE (Common Vulnerabilities & Exposures) id was<br />published for pidgin.<br /><br />CVE-2009-1889[0]:<br />| The OSCAR protocol implementation in Pidgin before 2.5.8 misinterprets<br />| the ICQWebMessage message type as the ICQSMS message type, which<br />| allows remote attackers to cause a denial of service (application<br />| crash) via a crafted ICQ web message that triggers allocation of a<br />| large amount of memory.<br /><br />More info can be found in redhat bug [1].  Please coordinate with the<br />security team to prepare updates for the stable releases.<br /><br />If you fix the vulnerability please also make sure to include the<br />CVE id in your changelog entry.<br /><br />For further information see:<br /><br />[0] http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-1889<br />http://security-tracker.debian.net/tracker/CVE-2009-1889<br />[1] <br />(END)<br /></blockquote><br />Para salir presionamos q, y para terminar la consulta escribimos q y presionamos Enter.<br /><br />En fin, dos herramientas indispensables al momento de trabajar con paquetes y reportes en Ubuntu. Espero les haya servido ;D