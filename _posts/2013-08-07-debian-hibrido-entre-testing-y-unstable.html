---
layout: post
title: 'Debian: hibrido entre testing y unstable'
date: '2013-08-07T14:00:00.000-05:00'
author: Rcart
tags:
- debian
modified_time: '2013-08-07T14:00:16.759-05:00'
blogger_id: tag:blogger.com,1999:blog-4654114015230862603.post-2284224830473244332
blogger_orig_url: http://rcartbitacora.blogspot.com/2013/08/debian-hibrido-entre-testing-y-unstable.html
---

Como lo mencione en mi actualizacion, he logrado montar (facilmente) un sistema hibrido entre estas dos ramas de Debian. El procedimiento es bastante sencillo pero muy eficaz.<br /><br />Esto es posible estableciendo una configuracion en <b>apt</b> para que pueda distinguir entre las ramas que tenemos disponibles en nuestro <b> /etc/apt/sources.list</b> y sea posible identificar que rama tenemos como preferida, de esta forma los paquetes que tenemos instalados no se actualizan directamente de unstable sino que de la rama preferida, obviamente <b>testing</b> y asi evitamos romper el sistema con cada actualizacion. Comencemos.<br /><br />Inicialmente vamos a establecer las ramas que querramos tener disponibles en nuestro <b>sources.list</b>, algo parecido a esto: <br /><blockquote><br />deb http://ftp.us.debian.org/debian/ testing main contrib non-free<br />deb-src http://ftp.us.debian.org/debian/ testing main contrib non-free<br /><br />deb http://security.debian.org/ testing/updates main<br />deb-src http://security.debian.org/ testing/updates main<br /><br /><br />####### DEBIAN MOZILLA TEAM #########<br />deb http://cdn.debian.net/debian experimental main<br /><br /><br />####### PACKAGES FROM UNSTABLE #########<br />deb http://ftp.us.debian.org/debian/ sid main contrib non-free<br />deb-src http://ftp.us.debian.org/debian/ sid main contrib non-free<br /></blockquote>Como vemos, hay dos tipos de ramas: la testing (Jessie) y la unstable (Sid). Ahora vamos a configurar apt para que sepa las prioridades entre las diferentes ramas.<br /><br />Creamos el archivo <b>/etc/apt/preferences</b> con el siguiente contenido:<br /><blockquote>Package: *<br />Pin: release a=testing<br />Pin-Priority: 900<br /> <br />Package: *<br />Pin: release o=Debian<br />Pin-Priority: -10<br /></blockquote>Y eso se lee asi: <i> Para todos los paquetes (*) en la rama (release) testing se estable una prioridad (pin) de 900 ($ man apt_preferences para conocer las prioridades) y todos los demas paquetes de cualquier otra rama tienen una prioridad negativa; no se van a instalar a menos que se indique directamente que queremos instalar un paquete de otra rama </i><br /><br />Despues de hacer un #apt-get update nos damos cuenta que tenemos disponibles las ramas indicadas en nuestro archivo sources.list. Ahora bien, si queremos instalar <b>cualquier paquete</b> no va a ser posible porque todos los paquetes en este momento se consideran "<b>virtuales</b> debido a que <b>apt-get</b> no sabe de qué rama elegir para instalar un determinado paquete. Ahora debemos indicarle a apt-get lo que queremos y para eso creamos el archivos <b>/etc/apt/apt.conf</b> con el siguiente contenido:<br /><blockquote>APT::Default-Release "testing";<br /></blockquote>Y listo, con eso establecemos la rama que queremos indicarle a apt-get que será nuestra rama principal: <b>testing</b>. Ahora sencillamente instalan cualquier paquete sin ningun problema. Y que pasa si queremos instalar un paquete de la rama unstable? Lo hacemos de esta manera:<br /><blockquote># apt-get install -t sid $paquete<br /></blockquote>Como vemos, si no indicamos el parametro <b>-t</b> (target), apt-get va a instalar el paquete de la rama testing, porque es asi como lo tenemos configurado de manera predeterminada. <br /><br />En fin... como podran ver es un procedimiento bastante sencillo pero que nos da la posibilidad de poder instalar software en sus ultimas versiones para Debian y que se encuentran en la rama unstable. Sinceramente tengo firefox (iceweasel) de la rama experimental (# apt-get install -t experimental iceweasel) y desde que lo tengo no he tenido el mas minimo problema. Aunque como saben esto no es garantia para todos los paquetes.<br />