---
layout: post
title: Irssi y libnotify
date: '2012-12-07T14:21:00.003-06:00'
author: Rcart
tags:
- cli
- ubuntu
modified_time: '2012-12-07T14:44:28.521-06:00'
thumbnail: http://2.bp.blogspot.com/-PJ1StKov-R8/UMJID-Dq-MI/AAAAAAAAAJo/xNH_1TxKOpA/s72-c/2012-12-07-134624_1366x768_scrot.png
blogger_id: tag:blogger.com,1999:blog-4654114015230862603.post-3727802313349914359
blogger_orig_url: http://rcartbitacora.blogspot.com/2012/12/irssi-y-libnotify_7.html
---

Si extrañas esas pequeñitas alertas que los clientes graficos IRC envian cuando alguien menciona tu nick, te envia y mensaje privado o te quiere transferir un archivo, irssi puede con ello.<br /><br />La manera mas facil de obtener notificaciones de irssi en tu escritorio minimalista o entorno grafico, es utilizando el plugin <a href="http://code.google.com/p/irssi-libnotify/">irssi-libnotify</a> el cual consiste de un "listener" en python que crea una instancia <a href="http://en.wikipedia.org/wiki/D-Bus">D-Bus</a> para estar a la escucha de los eventos de irssi, y luego estos eventos son transmitidos al demonio de notifacion del sistema que finalmente nos muestra esa preciada ventanita emergente =)<br /><br />La instalacion es bastante facil, primero que nada debemos clonar el repositorio para obtener la version mas reciente del proyecto (si no lo hacen de esta manera las ventanas de notificacion serán horribles porque utilizan gtk a secas y no son emergentes):<br /><blockquote>git clone https://code.google.com/p/irssi-libnotify/<br /></blockquote><br /><b>irssi-linotify</b>, como dije, consta de un "listener" en python y un plugin en perl (obvio) para irssi que envia los eventos del IRC al listener y este finalmente al sistema de notificaciones del SO.<br /><br />Una vez tengamos la rama clonada tendremos que ubicar estos archivos en sus directorios respectivos. El listener <b>notify-listener.py</b> deberia estar en el directorio <b>~/bin</b> de nuestro $HOME por razones de comodidad, asi que lo ubicamos en ese directorio o donde quieran (pero que recuerden). El archivo <b>notify.pl</b> lo ubicamos en el directorio de plugins de irssi <b>~/.irssi/plugins</b> y lo linkeamos a <b>~/.irssi/scripts/autorun</b> para que sea iniciado cada vez que ejecutemos irssi.<br /><br />Para hacerlo desde la consola y ubicados dentro del directorio donde esta la rama, hacemos:<br /><blockquote>cp -v notify-listener.py ~/bin<br />cp -v notify.pl ~/.irssi/plugins/<br />ln -s ~/.irssi/plugins/notify.pl ~/.irssi/plugins/autorun/</blockquote><br />Ahora debemos ejecutar los ultimos detalles para poder comenzar a utilizar este plugin:<br /><ol><li>instalar la libreria con la que interactua Perl con D-Bus (sino, el plugin no funciona)</li><li>ejecutar el listener</li><li>cargar el plugin desde irssi</li><li>ejecutar agregar el listener a los archivos de inicio del sistema</li></ol><br /><blockquote>sudo apt-get install --no-install-recommends libnet-dbus-perl<br />python notify-listener.py &<br />#esto es desde irssi<br />/scrips load notify.pl<br /></blockquote>Con el ultimo paso, depende de nuestro WM/DE. Utilizo <b>spectrwm</b> asi que los archivos de inicio los cargo desde <b>.xinit</b>.<br /><br />Una captura para ejemplificar ;)<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-PJ1StKov-R8/UMJID-Dq-MI/AAAAAAAAAJo/xNH_1TxKOpA/s1600/2012-12-07-134624_1366x768_scrot.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="180" width="320" src="http://2.bp.blogspot.com/-PJ1StKov-R8/UMJID-Dq-MI/AAAAAAAAAJo/xNH_1TxKOpA/s320/2012-12-07-134624_1366x768_scrot.png" /></a></div><br /><br /><br />