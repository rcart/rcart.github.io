---
layout: post
title: Recuperar (recover) passphrase gpg
date: '2012-03-09T18:16:00.000-06:00'
author: Rcart
tags:
- ubuntu-dev
- ubuntu
modified_time: '2012-03-09T18:16:18.238-06:00'
blogger_id: tag:blogger.com,1999:blog-4654114015230862603.post-1049475731133338518
blogger_orig_url: http://rcartbitacora.blogspot.com/2012/03/recuperar-recover-passphrase-gpg.html
---

Esta entrada solo es valida si tenemos una clara idea de lo que podria ser nuestra frase secreta de nuestra llave privada gpg. En mi caso, la olvide porque la ultima vez que la utilice fue para montar (de nuevo) el entorno de desarrollo para empaquetamiento en Ubuntu.<br /><br />Desde ese dia no volvi a utilizar mi llave, pero hoy que queria firmar unos sources de paquetes para construirlos con pbuilder, resulta que la frase secreta no era correcta O_O!<br /><br />Tengo una memoria bastante mala para la mayoria de las cosas que me parecen irrelevantes. Obviamente mi firma digital es super relevante, pero no la suelo utilizar (creo que este habito cambiara, empezare a firmir mis mails). Normalmente manejo por mucho, unas 4 contraseñas para mis diferentes actividades. Asi que tenia una idea de cual podria ser, pero estaba confundido.<br /><br />Existe los brute forcers, que son aplicaciones de fuerza bruta que permiten crackear una contraseña, pero esto depende del tipo de contraseña y protocolo. Como es un tipo de crackeo offline, tenemos toda la vida para dejar al brute forcer a que pruebe hasta la ultima combinacion posible en nuestra llave, con el fin de llegar a la correcta. No quiero esperar una vida para recuperar mi llave xD<br /><br />Algunos diran que el camino mas facil seria revocar la llave, y crear una nueva. Mi problema es que tengo cerca de 4 llaves publicas perdidas, no quiero una mas. Asi que sin tanta vuelta veamos de que manera podriamos recuperar nuestra frase secreta de nuestra llave gpg.<br /><br />Como lo dije en un principio, para esta tecnica necesitamos tener nociones de nuestra clave, ya que esta herramienta no es un brute forcer como tal. <br /><br />Les presento a <b>rephrase</b>. Una aplicacion que nos permite hacer fuerza bruta a nuestra llave gpg <b>en base a un patron proporcionado por el usuario.</b>. Este patron no es visible por motivos de seguridad, lo que recomendaria es escribirlo en un archivo, copiarlo y despues pegarlo en el prompt para que ingresemos el patron correctamente.<br /><br />Su sintaxis es simple:<br /><blockquote>rephrase <llavePrivada><br /></blockquote><br />Para obtener nuestra llave privada basta con hacer:<br /><blockquote>gpg --list-secrets-keys<br /></blockquote><br />Una vez hayamos ejecutado el comando anterior, entraremos al prompt que nos pedira ingresar un patron para comenzar el proceso. Ese patron esta muy bien explicado en el manual de la herramienta (man rephrase). Pero por ejemplo, si mi contraseña es "doctormalito" y no recuerdo si cambie algunas (pero no se cuales) bocales por mayusculas, y las consonantes por minusculas, entonces mi patron quedaria asi:<br /><blockquote>d(o|O)ct(o|O)rm(a|A)l(i|I)t(o|O)<br /></blockquote><br />Como veran las combinaciones estan encerradas en parentesis "()" y separadas por barras verticales "|". Si estamos en lo correcto, obtendremos "Passphrase found!" y una secuencia de numeros que indican cual de las posibles combinaciones forman nuestra frase secreta (esto lo hace con motivos de seguridad). Entonces, si nuestra contraseña era "doctOrmalIto", entonces el resultado sera este:<br /><blockquote>1 1 1 1 2 1 1 1 1 2 1 1<br />d o c t O r m a l I t o<br /></blockquote><br />Y de esta manera pude recuperar (en realidad recordar) mi frase secreta, y ya pude firmar los paquetes en los que estaba trabajando \\^_^//<br /><br /><i>English note: If you need this post to be writed in english, just leave a comment and I'll post it in english as well. Otherwise, you can use Google Translate.</i>